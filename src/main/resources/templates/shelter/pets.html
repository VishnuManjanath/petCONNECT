<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Pets - petCONNECT</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 th:text="'Manage Pets - ' + ${shelter.name}">Manage Pets</h2>
        <a href="/shelter/dashboard" class="btn btn-outline-secondary">Back to Dashboard</a>
    </div>

    <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>

    <div class="row">
        <div class="col-lg-5">
            <div class="card mb-4">
                <div class="card-header">Add New Pet</div>
                <div class="card-body">
                    <form th:action="@{/shelter/pets}" method="post" th:object="${newPet}">
                        <div class="mb-3">
                            <label class="form-label">Name</label>
                            <input class="form-control" th:field="*{name}" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Species</label>
                            <input class="form-control" th:field="*{species}" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Breed</label>
                            <input class="form-control" th:field="*{breed}">
                        </div>
                        <div class="row">
                            <div class="col-4 mb-3">
                                <label class="form-label">Age</label>
                                <input type="number" min="0" class="form-control" th:field="*{age}" required>
                            </div>
                            <div class="col-4 mb-3">
                                <label class="form-label">Age Group</label>
                                <select class="form-select" th:field="*{ageGroup}" required>
                                    <option th:each="ag : ${petAgeGroups}" th:value="${ag}" th:text="${ag}"></option>
                                </select>
                            </div>
                            <div class="col-4 mb-3">
                                <label class="form-label">Size</label>
                                <select class="form-select" th:field="*{size}" required>
                                    <option th:each="sz : ${petSizes}" th:value="${sz}" th:text="${sz}"></option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6 mb-3">
                                <label class="form-label">Gender</label>
                                <select class="form-select" th:field="*{gender}" required>
                                    <option>Male</option>
                                    <option>Female</option>
                                    <option>Unknown</option>
                                </select>
                            </div>
                            <div class="col-6 mb-3">
                                <label class="form-label">Color</label>
                                <input class="form-control" th:field="*{color}">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Adoption Fee</label>
                            <input type="number" step="0.01" min="0" class="form-control" th:field="*{adoptionFee}">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Image URL</label>
                            <input class="form-control" th:field="*{imageUrl}">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" rows="3" th:field="*{description}"></textarea>
                        </div>
                        <button class="btn btn-primary" type="submit">Add Pet</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-lg-7">
            <div class="card">
                <div class="card-header">Your Pets</div>
                <div class="card-body p-0">
                    <table class="table mb-0">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Species</th>
                            <th>Age</th>
                            <th>Status</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="pet : ${pets}">
                            <td th:text="${pet.name}">Buddy</td>
                            <td th:text="${pet.species}">Dog</td>
                            <td th:text="${pet.age}">3</td>
                            <td>
                                <span th:text="${pet.available} ? 'Available' : 'Not Available'" class="badge"
                                      th:classappend="${pet.available} ? ' bg-success' : ' bg-secondary'"></span>
                            </td>
                            <td class="text-end">
                                <a th:href="@{'/shelter/pets/' + ${pet.id} + '/edit'}" class="btn btn-sm btn-outline-primary">Edit</a>
                            </td>
                        </tr>
                        <tr th:if="${#lists.isEmpty(pets)}">
                            <td colspan="5" class="text-center text-muted py-3">No pets yet</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


